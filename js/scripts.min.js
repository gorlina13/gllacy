"use strict";function initMap(){var e={zoom:16,center:{lat:59.939305,lng:30.329156},scrollwheel:!1},t="img/pin-with-shadow.png",o=218,n=142,l=40,a=142,c=document.querySelector(".contacts__interactive-map");if(null!==c){var r=new google.maps.Map(c,e),s={url:t,size:new google.maps.Size(o,n),anchor:new google.maps.Point(l,a)};new google.maps.Marker({position:{lat:59.938549,lng:30.322993},map:r,title:"Глейси",icon:s})}}!function(){var e=document.querySelectorAll(".has-drop"),t=document.querySelectorAll(".submenu, .search, .user-list__form, .product");function o(){this.classList.add("has-focus")}function n(){this.classList.remove("has-focus")}0<t.length&&(0<e.length&&Array.prototype.slice.call(e).forEach(function(e){e.classList.remove("has-drop--no-js")}),Array.prototype.slice.call(t).forEach(function(e){e.addEventListener("focus",o,!0),e.addEventListener("blur",n,!0)}))}(),function(){var e=document.querySelector(".button--contacts"),o=document.querySelector(".modal--feedback"),t=document.querySelectorAll(".modal"),n=document.querySelector(".overlay"),l=!0,a="";function c(e,t){e.preventDefault(),t.classList.remove("modal--show"),t.classList.remove("modal--no-animation"),t.classList.remove("modal--error")}function r(){n.classList.remove("overlay--show")}function s(e,t){c(e,t),null!==n&&r()}if(null!==e&&null!==o){var i=o.querySelector(".feedback-form"),u=o.querySelector("[name=name]"),d=o.querySelector("[name=feedback-email]");try{a=localStorage.getItem("name")}catch(e){l=!1}e.addEventListener("click",function(e){var t;t=o,e.preventDefault(),null!==n&&n.classList.add("overlay--show"),t.classList.add("modal--show"),a?(u.value=a,d.focus()):u.focus()}),i.addEventListener("submit",function(e){u.value&&d.value?l&&localStorage.setItem("name",u.value):(e.preventDefault(),o.classList.remove("modal--error"),o.classList.add("modal--no-animation"),o.classList.remove("modal--show"),setTimeout(function(){o.classList.add("modal--error")},200),u.value&&!d.value?d.focus():u.focus())})}0<t.length&&[].forEach.call(t,function(t){t.querySelector(".modal__close").addEventListener("click",function(e){s(e,t)}),window.addEventListener("keydown",function(e){27===e.keyCode&&(t.classList.contains("modal--show")||t.classList.contains("modal--no-animation"))&&s(e,t)}),null!==n&&n.addEventListener("click",function(e){c(e,t),r()})})}(),function(){var c=document.querySelector("body"),e=document.querySelectorAll(".slider"),r="body--background-",s="slider__list--show-";function t(e){var n=e.querySelectorAll(".slider__control");n=Array.prototype.slice.call(n);var l=e.querySelectorAll(".slider__item");l=Array.prototype.slice.call(l);var t=e.querySelectorAll(".button");function o(){0<t.length&&[].forEach.call(t,function(e){e.removeAttribute("tabindex");var t=l.indexOf(e.parentElement)+1;e.parentElement.parentElement.classList.contains(s+t)||e.setAttribute("tabindex",-1)})}function a(e){var t;t=e,n.forEach(function(e){e.classList.remove("slider__control--active")}),t.classList.add("slider__control--active"),function(e){l.forEach(function(e){var t=l.indexOf(e)+1;e.parentElement.classList.remove(s+t),c.classList.remove(r+t)});var t=n.indexOf(e),o=t+1;l[t]&&l[t].parentElement.classList.add(s+o),c.classList.add(r+o)}(e),o()}o(),n.forEach(function(t){t.addEventListener("click",function(e){e.preventDefault(),a(t)})})}0<e.length&&[].forEach.call(e,function(e){t(e)})}();
