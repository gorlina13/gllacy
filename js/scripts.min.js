"use strict";function initMap(){var e={zoom:16,center:{lat:59.939305,lng:30.329156},scrollwheel:!1},t="img/pin-with-shadow.png",n=218,o=142,a=40,l=142,r=document.querySelector(".contacts__interactive-map");if(null!==r){var c=new google.maps.Map(r,e),s={url:t,size:new google.maps.Size(n,o),anchor:new google.maps.Point(a,l)};new google.maps.Marker({position:{lat:59.938549,lng:30.322993},map:c,title:"Глейси",icon:s})}}!function(){var e=document.querySelectorAll(".has-drop"),t=document.querySelectorAll("[data-focus]");function n(){this.classList.add("has-focus")}function o(){this.classList.remove("has-focus")}0<t.length&&(0<e.length&&Array.prototype.slice.call(e).forEach(function(e){e.classList.remove("has-drop--no-js")}),Array.prototype.slice.call(t).forEach(function(e){var t;e.classList.contains("submenu")&&null!==(t=e.querySelector(".submenu__link"))&&t.insertAdjacentHTML("afterbegin",' <span class="visually-hidden">Вложенное меню, </span>'),e.addEventListener("focus",n,!0),e.addEventListener("blur",o,!0)}))}(),function(){var r=27,c=9,l=32,t=document.querySelector(".button--contacts"),s=document.querySelector(".modal--feedback"),e=[t],n=[function(){function o(e){!function(e,t){e.preventDefault(),n=t,o=document.activeElement,n.startPoint=o,null!==u&&u.classList.add("overlay--show");var n,o;t.classList.add("modal--show"),t.firstTabStop.focus(),a=t,i.shownModal=a;var a}(e,s),f?(n.value=f,a.focus()):n.focus()}if(null!==s){var e=s.querySelector(".feedback-form"),n=s.querySelector("[name=name]"),a=s.querySelector("[name=feedback-email]");!function(){try{f=localStorage.getItem("name")}catch(e){d=!1}}(),t.addEventListener("click",function(e){o(e)}),t.setAttribute("role","button"),"A"===t.tagName&&t.addEventListener("keydown",function(e){var t,n;(" "===(n=(t=e).key||t.keyCode)||"Spacebar"===n||n===l)&&o(e)}),e.addEventListener("submit",function(e){var t;t=e,n.value&&a.value?d&&localStorage.setItem("name",n.value):(t.preventDefault(),s.classList.remove("modal--error"),s.classList.add("modal--no-animation"),setTimeout(function(){s.classList.add("modal--error")},0),n.value?a.focus():n.focus())})}}],i=document.querySelectorAll(".modal");i=Array.prototype.slice.call(i);var u=document.querySelector(".overlay"),d=!0,f="";function o(e,t){i.shownModal&&t(e,i.shownModal)}function a(e,t){var n,o,a,l;("Tab"===(o=(n=e).key||n.keyCode)||o===c)&&(e.shiftKey?document.activeElement===t.firstTabStop&&(e.preventDefault(),t.lastTabStop.focus()):document.activeElement===t.lastTabStop&&(e.preventDefault(),t.firstTabStop.focus())),("Escape"===(l=(a=e).key||a.keyCode)||"Esc"===l||l===r)&&y(e,t)}function m(e,t){v(e,t),p()}function v(e,t){e.preventDefault(),t.classList.remove("modal--show"),t.classList.remove("modal--no-animation"),t.classList.remove("modal--error"),t.startPoint.focus(),i.shownModal=""}function p(){u.classList.remove("overlay--show")}function y(e,t){v(e,t),null!==u&&p()}0<i.length&&(i.forEach(function(e){var t,n,o;n=(t=e).querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex="0"], [contenteditable]'),n=Array.prototype.slice.call(n),t.firstTabStop=n[0],t.lastTabStop=n[n.length-1],(o=e).querySelector(".modal__close").addEventListener("click",function(e){y(e,o)})}),window.addEventListener("keydown",function(e){o(e,a)}),null!==u&&u.addEventListener("click",function(e){o(e,m)})),0<e.length&&e.forEach(function(e,t){null!==e&&n[t]()})}(),function(){var i="body--background-",u="slider__list--show-",d=document.querySelector(".body"),f=document.querySelector("#main-slider"),e=document.querySelectorAll(".slider");function t(e){var o=e===f,t=e.querySelectorAll(".slider__control"),a=e.querySelectorAll(".slider__item"),n=e.querySelectorAll(".button");function l(e){t.forEach(function(e){e.classList.remove("slider__control--active")}),e.classList.add("slider__control--active")}function r(e){e.forEach(function(e,t){e.itemIndex=t})}function c(e){a.forEach(function(e,t){var n=t+1;e.parentElement.classList.remove(u+n),o&&d.classList.remove(i+n)});var t=e.itemIndex,n=t+1;a[t]&&a[t].parentElement.classList.add(u+n),o&&d.classList.add(i+n)}function s(){0<n.length&&n.forEach(function(e){e.removeAttribute("tabindex");for(var t=e.parentElement;!t.classList.contains("slider__list");){if(t.classList.contains("slider__item")){var n=t.itemIndex+1;return void(t.parentElement.classList.contains(u+n)||e.setAttribute("tabindex",-1))}t=t.parentElement}})}t=Array.prototype.slice.call(t),a=Array.prototype.slice.call(a),n=Array.prototype.slice.call(n),r(t),r(a),s(),e.addEventListener("click",function(e){!function(e){for(var t,n=e.target;n!==e.currentTarget;){if(n.classList.contains("slider__control"))return e.preventDefault(),l(t=n),c(t),s();n=n.parentElement}}(e)})}0<(e=Array.prototype.slice.call(e)).length&&e.forEach(function(e){t(e)})}();
