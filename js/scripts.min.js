"use strict";function initMap(){var e={zoom:16,center:{lat:59.939305,lng:30.329156},scrollwheel:!1},t="img/pin-with-shadow.png",o=218,n=142,l=40,a=142,c=document.querySelector(".contacts__interactive-map");if(null!==c){var r=new google.maps.Map(c,e),s={url:t,size:new google.maps.Size(o,n),anchor:new google.maps.Point(l,a)};new google.maps.Marker({position:{lat:59.938549,lng:30.322993},map:r,title:"Глейси",icon:s})}}!function(){var c,o,e=document.querySelectorAll(".has-drop"),t=document.querySelectorAll(".submenu__link"),n=document.querySelectorAll(".search__submit"),l=document.querySelectorAll(".user-list__form"),a=document.querySelectorAll(".button--product"),r=["UL","FORM","FORM","ARTICLE"];function s(e){return Array.prototype.slice.call(e)}function i(e,t,o){for(;!e.classList.contains("has-drop");){if(e.tagName===t)return void o(e);e=e.parentElement}e.classList.contains("has-drop")&&o(e)}function u(e){e.classList.add("has-focus")}function d(e){e.classList.remove("has-focus")}function f(e,t){t.addEventListener("focus",function(){i(t,e,u)}),t.addEventListener("blur",function(){i(t,e,d)})}0<e.length&&[].forEach.call(e,function(e){e.classList.remove("has-drop--no-js")}),(o=[t,n,c,a]).forEach(function(e){var t=o.indexOf(e),a=r[t];e===c?0<l.length&&[].forEach.call(l,function(e){var t,o,n,l;o=(t=e).querySelectorAll("input"),n=t.querySelectorAll("a"),l=t.querySelectorAll("button"),(c=s(o).concat(s(n),s(l))).forEach(function(e){f(a,e)})}):0<e.length&&(e=s(e)).forEach(function(e){f(a,e)})})}(),function(){var e=document.querySelector(".button--contacts"),o=document.querySelector(".modal--feedback"),t=document.querySelectorAll(".modal"),n=document.querySelector(".overlay"),l=!0,a="";function c(e,t){e.preventDefault(),t.classList.remove("modal--show"),t.classList.remove("modal--no-animation"),t.classList.remove("modal--error")}function r(){n.classList.remove("overlay--show")}function s(e,t){c(e,t),null!==n&&r()}if(null!==e&&null!==o){var i=o.querySelector(".feedback-form"),u=o.querySelector("[name=name]"),d=o.querySelector("[name=feedback-email]");try{a=localStorage.getItem("name")}catch(e){l=!1}e.addEventListener("click",function(e){var t;t=o,e.preventDefault(),null!==n&&n.classList.add("overlay--show"),t.classList.add("modal--show"),a?(u.value=a,d.focus()):u.focus()}),i.addEventListener("submit",function(e){u.value&&d.value?l&&localStorage.setItem("name",u.value):(e.preventDefault(),o.classList.remove("modal--error"),o.classList.add("modal--no-animation"),o.classList.remove("modal--show"),setTimeout(function(){o.classList.add("modal--error")},200),u.value&&!d.value?d.focus():u.focus())})}0<t.length&&[].forEach.call(t,function(t){t.querySelector(".modal__close").addEventListener("click",function(e){s(e,t)}),window.addEventListener("keydown",function(e){27===e.keyCode&&(t.classList.contains("modal--show")||t.classList.contains("modal--no-animation"))&&s(e,t)}),null!==n&&n.addEventListener("click",function(e){c(e,t),r()})})}(),function(){var c=document.querySelector("body"),e=document.querySelectorAll(".slider"),r="body--background-",s="slider__list--show-";function t(e){var n=e.querySelectorAll(".slider__control");n=Array.prototype.slice.call(n);var l=e.querySelectorAll(".slider__item");l=Array.prototype.slice.call(l);var t=e.querySelectorAll(".button");function o(){0<t.length&&[].forEach.call(t,function(e){e.removeAttribute("tabindex");var t=l.indexOf(e.parentElement)+1;e.parentElement.parentElement.classList.contains(s+t)||e.setAttribute("tabindex",-1)})}function a(e){var t;t=e,n.forEach(function(e){e.classList.remove("slider__control--active")}),t.classList.add("slider__control--active"),function(e){l.forEach(function(e){var t=l.indexOf(e)+1;e.parentElement.classList.remove(s+t),c.classList.remove(r+t)});var t=n.indexOf(e),o=t+1;l[t]&&l[t].parentElement.classList.add(s+o),c.classList.add(r+o)}(e),o()}o(),n.forEach(function(t){t.addEventListener("click",function(e){e.preventDefault(),a(t)})})}0<e.length&&[].forEach.call(e,function(e){t(e)})}();
